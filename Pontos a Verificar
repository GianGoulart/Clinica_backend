Pontos a Verificar

- If (STATUS_PROCEDIMENTO == "A AGENDAR" && Data Procedimento - HOJE() <= 10 && Data Procedimento <> "") = "Aviso: Faltam "&T264-HOJE()&" dias para o procedimento e ainda consta como A Agendar";

OK      - Solução para Componente de Moeda 

OK      - Paginação da listagem

OK      - Colocar o comercial e o financeiro juntos, pois as informações são complementares, e estando separadas tenho que ficar indo no comercial verificar as inf. para preencher o financeiro.

OK      - Substituir a opção "misto" para "convênio + extra" 

OK      - Fiz um cadastro de procedimento no dia 23/06 e coloquei com realizado, mas a data é futura, creio que para esses casos deverão ter alertas.

OK      - Não acho viável o fato de lançar um procedimento e após add no comercial financeiro ter que preencher a o valor novamente, pois perco tempo voltando no lançamento de procedimento para confirmar o valor.

OK      - Valor Liquido no Financeiro ser calculado

OK      - Nome Especialidade (remover demais campos)

OK      - Quebrar campo procedimento em colunas (Data Paciente Procedimento Medico Principal)

OK      - telefone adicional



if (p.Status == 1 || p.Status == 2) && p.Data > 0 && p.Data < todayTime.Unix() {
	d.StatusFinanceiro = "Erro: Data de procedimento JÁ PASSOU, porém ainda consta como Agendado ou A Agendar"
} else if p.Status != 3 && mapComercialValor[p.Id] > 0 {
	d.StatusFinanceiro = "OK"
} else if p.Status != 3 && mapComercialValor[p.Id] > 0 {
	d.StatusFinanceiro = "Erro: Produção NÃO REALIZADA, porém constam valores no Financeiro"
} else if p.Esteira == 0 {
	d.StatusFinanceiro = "Erro: Procedimento Realizado sem Esteira definida"
} else if p.Valor != mapComercialValor[p.Id] {
	d.StatusFinanceiro = "Erro: Valor total do procedimento não bate com valores lançados no Financeiro"
} else if p.Esteira == 1 && (mapComercial[p.Id].Tipo_Pagamento == 2 || mapComercial[p.Id].Tipo_Pagamento == 3 && mapComercialValor[p.Id] > 0) {
	d.StatusFinanceiro = "Erro: 100% Convenio COM valores Extra ou Particular no Financeiro"
} else if p.Esteira == 2 && (mapComercial[p.Id].Tipo_Pagamento == 1 || mapComercial[p.Id].Tipo_Pagamento == 2 && mapComercialValor[p.Id] > 0) {
	d.StatusFinanceiro = "Erro: 100% Particular COM valores Extra ou Reembolso no Financeiro"
} else if p.Esteira == 3 && (mapComercial[p.Id].Tipo_Pagamento == 1 && mapComercialValor[p.Id] == 0) {
	d.StatusFinanceiro = "Erro: Convenio+Extra SEM valores de Reembolso no Financeiro"
} else if p.Esteira == 3 && (mapComercial[p.Id].Tipo_Pagamento == 2 && mapComercialValor[p.Id] == 0) {
	d.StatusFinanceiro = "Erro: Convenio+Extra SEM valores de Extra no Financeiro"
} else if p.Esteira == 3 && (mapComercial[p.Id].Tipo_Pagamento == 3 && mapComercialValor[p.Id] > 0) {
	d.StatusFinanceiro = "Erro: Convenio+Extra COM valores de Particular no Financeiro"
} else if (mapComercial[p.Id].Data_Emissao_NF == 0 && mapComercial[p.Id].Tipo_Pagamento == 1 && mapComercialValor[p.Id] > 0) ||
	(mapComercial[p.Id].Data_Emissao_NF == 0 && mapComercial[p.Id].Tipo_Pagamento == 2 && mapComercialValor[p.Id] > 0) ||
	(mapComercial[p.Id].Data_Emissao_NF == 0 && mapComercial[p.Id].Tipo_Pagamento == 3 && mapComercialValor[p.Id] > 0) {
	d.StatusFinanceiro = "Aviso: Existem NFs pendentes de Emissão"
} else {
	d.StatusFinanceiro = "OK"
}
